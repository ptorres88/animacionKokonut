{
  "name": "vivus",
  "version": "0.4.1",
  "description": "JavaScript library to make drawing animation on SVG",
  "main": "dist/vivus.js",
  "scripts": {
    "test": "karma start test/karma.conf.js",
    "serve": "python -m SimpleHTTPServer 8844"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/maxwellito/vivus.git"
  },
  "author": {
    "name": "maxwellito"
  },
  "license": "MIT",
  "bugs": {
    "url": "https://github.com/maxwellito/vivus/issues"
  },
  "homepage": "https://github.com/maxwellito/vivus",
  "engine": {
    "node": ">=0.10.22"
  },
  "devDependencies": {
    "gulp": "^3.8.5",
    "gulp-concat": "^2.2.0",
    "gulp-header": "^1.2.2",
    "gulp-imports": "0.0.2",
    "gulp-jshint": "^1.6.3",
    "gulp-karma": "0.0.4",
    "gulp-uglify": "^0.3.1",
    "gulp-util": "^2.2.19",
    "karma": "^0.12.17",
    "karma-chrome-launcher": "^0.1.4",
    "karma-coverage": "^0.2.6",
    "karma-jasmine": "~0.2.0"
  },
  "spm": {
    "main": "dist/vivus.js"
  },
  "readme": "# vivus.js\n\nDemo available on http://maxwellito.github.io/vivus\n\nPlay with it on [Vivus Instant](https://maxwellito.github.io/vivus-instant/)\n\nVivus is a lightweight JavaScript class (with no dependencies) that allows you to animate SVGs, giving them the appearance of being drawn. There are a variety of different animations available, as well as the option to create a custom script to draw your SVG in whatever way you like.\n\nAvailable via:\n\n - [NPM](https://www.npmjs.com/package/vivus): `npm install vivus`\n - [Bower](http://bower.io/): `bower install vivus`\n - [jsDelivr CDN](http://www.jsdelivr.com/#!vivus): `//cdn.jsdelivr.net/vivus/latest/vivus.min.js`\n - [CDNJS CDN](https://cdnjs.com/libraries/vivus)\n - [WebJars](http://www.webjars.org/)\n\nJoin the conversation on [Gitter](https://gitter.im/maxwellito/vivus)\n\nTry Vivus with your SVG on [Vivus Instant](https://maxwellito.github.io/vivus-instant/). If you plan to use the library to animate a single SVG without callback or controls, this will allow you to download your animated SVG, powered by CSS, JavaScript free.\n\n## Animations\n\nOn the following images, the pink color represents the `duration` value, and the blue one is for `delay` value.\n\n### Delayed\n\n![Timeline for delayed animation](https://raw.github.com/maxwellito/vivus/master/assets/delayed.png)\n\nEvery path element is drawn at the same time with a small delay at the start. This is currently the default animation.\n\n### Sync\n\n![Timeline for sync animation](https://raw.github.com/maxwellito/vivus/master/assets/sync.png)\n\nEach line is drawn synchronously. They all start and finish at the same time, hence the name `sync`.\n\n### OneByOne\n\n![Timeline for oneByOne animation](https://raw.github.com/maxwellito/vivus/master/assets/oneByOne.png)\n\nEach path element is drawn one after the other. This animation gives the best impression of live drawing. The duration for each line depends on their length to make a constant drawing speed.\n\n## Principles\n\nTo get this effect, the script uses the CSS property `strokeDashoffset`. This property manages the stroke offset on every line of the SVG. Now, all we have to do is add some JavaScript to update this value progressively and the magic begins.\n\nHowever, there's a problem with this. The `strokeDashoffset` property is only available on the path elements. This is an issue because in an SVG there are a lot of elements such as `circle`, `rect`, `line` and `polyline` which will break the animation. So to fix this, there is another class available in the repo called `pathformer`. It's made for transforming all objects of your SVG into `path` elements to be able to use `strokeDashoffset` and animate your SVGs.\n\n*The animation always draws elements in the same order as they are defined in the SVG tag.*\n\nThere are few conditions that your SVG must meet:\n\n- All elements must have a stroke property and cannot be filled. This is because the animation only looks to progressively draw strokes and will not check for filled colours. For example: fill: \"none\"; stroke: \"#FFF\";\n\n- You should avoid creating any hidden path elements in your SVG. Vivus considers them all eligible to be animated, so it is advised to remove them before playing with it. If they are not removed the animation might not achieve the desired effect, with blank areas and gaps appearing.\n\n- `text` elements aren't allowed, they cannot be transformed into `path` elements. See [#22](https://github.com/maxwellito/vivus/issues/22) for more details.\n\nThe code is inspired from other repositories. The drawer is inspired from the excellent [Codrops](http://tympanus.net/codrops/) about the post [SVG Drawing Animation](http://tympanus.net/codrops/2013/12/30/svg-drawing-animation/) (if you don't know this website, get ready to have your mind blown). Then for the pathformer, there is a lot of work from [SVGPathConverter](https://github.com/Waest/SVGPathConverter) by [Waest](https://github.com/Waest).\n\n## Usage\n\nAs I said, no dependencies here. All you need to do is include the scripts.\n\n**Inline SVG**\n\n```html\n<svg id=\"my-svg\">\n  <path...>\n  <path...>\n  <path...>\n</svg>\n\n<script>\n  new Vivus('my-svg', {duration: 200}, myCallback);\n</script>\n```\n\n**Dynamic load**\n\n```html\n<object id=\"my-svg\" type=\"image/svg+xml\" data=\"link/to/my.svg\"></object>\n\n<script>\n  new Vivus('my-svg', {duration: 200}, myCallback);\n</script>\n```\n\nor\n\n```html\n<div id=\"my-div\"></div>\n\n<script>\n  new Vivus('my-div', {duration: 200, file: 'link/to/my.svg'}, myCallback);\n</script>\n```\n\nBy default the `object` created will take the size of the parent element, this one must have a height and width or your SVG might not appear.\n\nIf you need to edit this object, it is accessible in the `onReady` callback:\n\n```js\nnew Vivus('my-div-id', {\n  file: 'link/to/my.svg'\n  onReady: function (myVivus) {\n    // `el` property is the SVG element\n    myVivus.el.setAttribute('height', 'auto');\n  }\n});\n```\n\nCheck out the [hacks page](https://github.com/maxwellito/vivus/blob/master/hacks.md) for more tricks.\n\n### Constructor\n\nThe Vivus constructor asks for 3 parameters:\n\n- ID (or object) of DOM element to interact with.<br/>It can be an inline SVG or a wrapper element to append an object tag from the option `file`\n- Option object (described in the following  |\n- Callback to call at the end of the animation (optional)\n\n### Option list\n\n| Name       | Type     | Description |\n|------------|----------|-------------|\n|`type`      | string   | Defines what kind of animation will be used: `delayed`, `sync`, `oneByOne`, `script`, `scenario` or `scenario-sync`. [Default: `delayed`] |\n|`file`      | string   | Link to the SVG to animate. If set, Vivus will create an object tag and append it to the DOM element given to the constructor. Be careful, use the `onReady` callback before playing with the Vivus instance. |\n|`start`     | string   | Defines how to trigger the animation (`inViewport` once the SVG is in the viewport, `manual` gives you the freedom to call draw method to start, `autostart` makes it start right now). [Default: `inViewport`] |\n|`duration`  | integer  | Animation duration, in frames. [Default: `200`] |\n|`delay`     | integer  | Time between the drawing of first and last path, in frames (only for `delayed` animations). |\n|`onReady`   | function | Function called when the instance is ready to play. |\n|`pathTimingFunction` | function | Timing animation function for each path element of the SVG. Check the [timing function part](#timing-function). |\n|`animTimingFunction` | function | Timing animation function for the complete SVG. Check the [timing function part](#timing-function). |\n|`dashGap`   | integer  | Whitespace extra margin between dashes. Increase it in case of glitches at the initial state of the animation. [Default: `2`] |\n|`forceRender` | boolean | Force the browser to re-render all updated path items. By default, the value is `true` on IE only. (check the 'troubleshoot' section for more details). |\n|`reverseStack`| boolean | Reverse the order of execution. The default behaviour is to render from the first 'path' in the SVG to the last one. This option allow you to reverse the order. [Default: `false`] |\n|`selfDestroy` | boolean | Removes all extra styling on the SVG, and leaves it as original. |\n\n\n### Methods\n\n| Name          | Description         |\n|---------------|---------------------|\n| `play(speed, callback)` | Plays the animation with the speed given in parameter. This value can be negative to go backward, between 0 and 1 to go slowly, >1 to go faster, or <0 to go in reverse from current state. [Default: `1`]. Callback executed after the animation is finished (optional) |\n| `stop()`      | Stops the animation. |\n| `reset()`     | Reinitialises the SVG to the original state: undrawn. |\n| `finish()`    | Set the SVG to the final state: drawn. |\n| `setFrameProgress(progress)` | Set the progress of the animation. Progress must be a number between 0 and 1. |\n| `getStatus()` | Get the status of the animation between `start`, `progress`, `end` |\n| `destroy()`   | Reset the SVG but make the instance out of order. |\n\nThese methods return the object so you can chain the actions.\n\n```js\nvar myVivus = new Vivus('my-svg-id');\nmyVivus\n  .stop()\n  .reset()\n  .play(2)\n```\n\n#### Play method callback\n\nInstead of using the global constructor callback when you create the Vivus object, you can add callbacks to be\nexecuted for specific `play` method calls.\n\n```js\nvar myVivus = new Vivus('my-svg-id');\nmyVivus.play(1, function() {\n  // called after the animation completes\n})\n\n// alternativly if you leave the speed param blank and use the default, you\n// can pass the callback as the first parameter like so.\nmyVivus.play(function() {\n  // called after the animation completes\n})\n```\n\n## Timing function\n\nTo give more freedom, it's possible to override the animation of each path and/or the entire SVG. It works a bit like the CSS animation timing function. But instead of using a cubic-bezier function, it use a simple JavaScript function. It must accept a number as parameter (between 0 to 1), then return a number (also between 0 and 1). It's a hook.\n\nIf you don't want to create your own, timing methods are available via the constructor object: `EASE`, `EASE_IN`, `EASE_OUT` and `EASE_OUT_BOUNCE`. Then set it in the option object to enjoy them.\n\n```js\n// Here, the ease animation will be use for the global drawing.\nnew Vivus('my-svg-id', {\n    type: 'delayed',\n    duration: 200,\n    animTimingFunction: Vivus.EASE\n}, myCallback);\n```\n\n**WARNING**: `animTimingFunction` is called at every frame of the animation, and `pathTimingFunction` is also called at every frame for each path of your SVG. So be careful about them. Keep it simple, or it can affect the performance.\n\n## Extra attributes\n\nThe attribute `data-ignore` allows you to ignore path tags from the vivus animation.\n\n```html\n<svg id=\"my-svg\">\n  <path...>\n  <path data-ignore=\"true\" ...>\n  <path...>\n</svg>\n```\n\nIn this case, the second path won't be part of the animation.\n\n## Scenarize\n\nThis feature allows you to script the animation of your SVG. For this, the custom values will be set directly in the DOM of the SVG.\n\n### `scenario`\n\nThis type is easier to understand, but longer to implement. You just have to define the start and duration of each element with `data-start` and `data-duration` attributes. If it is missing, it will use the default value given to the constructor.\nThe best part of this type is the flexibility it provides. You don't have to respect the order/stack of the SVG and you can start with the last element, then continue with the first to finish with all the rest at the same time.\n\nYou will then have to define custom rules for each element in your SVG via extra attributes in your SVG DOM :\n\n- `data-start` (integer)\ntime when the animation must start, in frames\n- `data-duration` (integer)\nanimation duration of this path, in frames\n\n\n```html\n<svg>\n  <path data-start=\"0\" data-duration=\"10\" .../>\n  <path data-start=\"20\" data-duration=\"10\" .../>\n  <path data-start=\"20\" data-duration=\"20\" .../>\n  <path data-start=\"0\" data-duration=\"30\" .../>\n</svg>\n```\n\n### `scenario-sync`\n\nIt's not the sexiest code ever, but it's quite flexible. In addition to this, the behaviour is fairly different.\nBy using this animation type, the default behaviour is the same as `oneByOne`. However, you can define some properties on a specific path item such as the duration, the delay to start (from the end of the previous path) and if it should be played synchronously.\n\n- `data-delay` (integer)\ntime between the end of the animation of the previous path and the start of the current path, in frames\n- `data-duration` (integer)\nduration of this path animation, in frames\n- `data-async` (no value required)\nmake the drawing of this path asynchronous. It means the next path will start at the same time.\nIf a path does not have an attribute for duration or delay then the default values, set in the options, will be used.\n\nExample: here is a simple SVG containing 5 elements. With the following options `{duration: 20, delay: 0}`, we should get this timeline\n\n![Timeline for script animation by default](https://raw.github.com/maxwellito/vivus/master/assets/script_default.png)\n\nThis looks like 'oneByOne' animation, synchronous mode. But to make it a bit custom, here is what I can do:\n\n```html\n<svg>\n\t<path data-duration=\"10\" .../>\n\t<path data-delay=\"10\" data-async .../>\n\t<path data-delay=\"15\" .../>\n\t<path data-duration=\"10\" data-delay=\"45\" data-async .../>\n\t<path data-duration=\"50\" data-delay=\"5\" .../>\n</svg>\n```\n\nThis scenario should give us\n\n![Timeline for this custom script animation](https://raw.github.com/maxwellito/vivus/master/assets/script_custom.png)\n\n\nI'm sorry if it does not look very sexy, and it's not really easy to use. I'm happy to make any changes, as long as the idea sounds interesting. Post an issue and I'll be very happy to talk about it!\n\n## Development\n\nTo make it simpler a gulp file is set up to automise minifying, JShint and tests.\nIf you have never used Gulp before this is a good opportunity. To use it, you need to install NodeJS first then run `sudo npm install -g gulp`.\n\nTo start, you will need to install the repo dependencies:\n\n```bash\n$ npm install\n```\n\nThen you can run Gulp with one of the following tasks:\n\n- `distrib` make the build (generate `dist/vivus.js` and `dist/vivus.min.js`)\n- `lint` run JShint on the source files\n- `test` run Karma\n- `develop` keep watching your files, if any change is applied, Gulp will run the task(s) related to it.\n\n## Troubleshoot\n\n### Internet Explorer\n\nSome SVG weren't working at all. The only solution found was to clone and replace each updated path element. Of course this solution requires more resources and a lot of DOM manipulation, but it will give a smooth animation like other browsers. This fallback is only applied on Internet Explorer (all versions), and can be disabled via the option `forceRender`.\n\nReplacing each updated path by a clone was the only way to force IE to re-render the SVG. On some SVGs this trick is not necessary, but IE can be a bit tricky with this. If you're worried about performance, I would recommend checking if your SVG works correctly by disabling the `forceRender` option. If it works correctly on IE, then keep it like this.\n\nBy default, `forceRender` is `true` on Internet Explorer only.\n\n### Firefox\n\nFor Firefox users, you might encounter some glitches depending on your SVG and browser version. On versions before 36, there is a problem retrieving path length via `getTotalLength` method. Returning 174321516544 instead of 209 (I'm not exaggerating, this comes from a real case), messing up the entire animation treatment. Unfortunately, there's nothing that this library can do, this is due to Firefox. I hope to find a workaround, but at the moment I can only recommend that you test your animation on previous versions of Firefox.\n\n## Debug\n\nFor an easier debug have a look to the attribute `map` of your Vivus object. This contains the mapping of your animation. If you're using a modern browser, I recommend `console.table` to get a nice output of the array which will make your debug easier.\n\n```javascript\nvar logo = new Vivus('myLogo', {type: 'scenario-sync'});\n\n// The property 'map' contain all the SVG mapping\nconsole.table(logo.map);\n```\n\n## Special thanks!\n\nThanks to all contributors! Also users who pushed me to improve the library by publishing it on NPM, or browser compatibility or features. Also thanks for fixing my awful english :)\n\n- [@jolic](https://github.com/jolic) for dynamic SVG loading, ignore invisible paths, infinite and beyond...\n- [@BenMcGeachy](https://github.com/BenMcGeachy) for making the documentation understandable\n- [@TranscendOfSypherus](https://github.com/TranscendOfSypherus) for fixing the PathFormer\n- [@flyingfisch](https://github.com/flyingfisch) for general helping with issues\n- [@morgangiraud](https://github.com/morgangiraud) on the ignore invisible paths\n- [@Nerdissimo](https://github.com/Nerdissimo) for inserting SVG without `object` wrapper\n- [@jsimnz](https://github.com/jsimnz) for adding callbacks to play method\n\nand many others...\n",
  "readmeFilename": "readme.md",
  "_id": "vivus@0.4.1",
  "dist": {
    "shasum": "34772e2a4e1f981ac9a2a8777a85d40ee2122142"
  },
  "_from": "vivus@",
  "_resolved": "https://registry.npmjs.org/vivus/-/vivus-0.4.1.tgz"
}
